<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reverse DCF — Implied Growth</title>
  <meta name="description" content="One-screen Reverse DCF tool that computes the market-implied perpetual growth rate (g).">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/admin-lte@4.0.0/dist/css/adminlte.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/assets/css/style.css">
</head>
<body class="hold-transition layout-fixed">
  <div class="wrapper">
    <nav class="main-header navbar navbar-expand navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">InvestLog Tools</a>
        <span class="navbar-text ms-2">Reverse DCF — Implied Growth</span>
      </div>
    </nav>

    <div class="content-wrapper">
      <section class="content pt-3">
        <div class="container-fluid rdcf">
          <div class="row g-3">
            <div class="col-lg-5">
              <div class="card card-dark">
                <div class="card-header">
                  <h3 class="card-title">Inputs</h3>
                </div>
                <div class="card-body">
                  <div class="mb-3">
                    <label for="currencySymbol" class="form-label">Currency symbol</label>
                    <input id="currencySymbol" type="text" value="€" maxlength="3" class="form-control">
                    <div class="form-text">Display only (€, $, £). Does not affect math.</div>
                  </div>

                  <div class="mb-3">
                    <label for="price" class="form-label">Price per share</label>
                    <input id="price" type="number" step="0.01" min="0" placeholder="150.00" class="form-control">
                  </div>

                  <div class="mb-3">
                    <label for="sharesB" class="form-label">Shares outstanding (billions)</label>
                    <input id="sharesB" type="number" step="0.001" min="0" placeholder="12.447" class="form-control">
                    <div class="form-text">Enter billions (12.447 → 12.447×10⁹).</div>
                  </div>

                  <div class="mb-3">
                    <label for="netDebtB" class="form-label">Net debt (billions)</label>
                    <input id="netDebtB" type="number" step="0.01" placeholder="-100.0" class="form-control">
                    <div class="form-text">Debt − cash. Negative = net cash.</div>
                  </div>

                  <div class="row">
                    <div class="col-6 mb-3">
                      <label for="wacc" class="form-label">WACC (%)</label>
                      <input id="wacc" type="number" step="0.1" min="0" placeholder="10.0" class="form-control">
                    </div>
                    <div class="col-6 mb-3">
                      <label for="roic" class="form-label">ROIC (%)</label>
                      <input id="roic" type="number" step="0.1" min="0" placeholder="20.0" class="form-control">
                    </div>
                  </div>

                  <div class="mb-2">
                    <label for="nopatB" class="form-label">NOPAT (NTM, billions)</label>
                    <input id="nopatB" type="number" step="0.1" min="0" placeholder="94.0" class="form-control">
                    <div class="form-text">After-tax operating profit expected over the next 12 months.</div>
                  </div>

                  <div class="d-flex gap-2 mt-2">
                    <button id="resetBtn" type="button" class="btn btn-secondary">Reset</button>
                    <button id="copyLinkBtn" type="button" class="btn btn-primary">Copy permalink</button>
                  </div>

                  <details class="mt-3 small">
                    <summary>Methodology</summary>
                    <p>We use the value-driver steady-state DCF:
                      <code>EV = NOPAT × (1 − g/ROIC) / (WACC − g)</code>. Given enterprise value (from price, shares, and net debt),
                      WACC, ROIC, and NOPAT (NTM), we invert algebraically to get the <strong>implied perpetual growth g</strong>.
                      Assumptions: constant WACC & ROIC, steady state, separation of operating vs non-operating items. If
                      <code>g ≥ min(ROIC, WACC)</code> the setup is inconsistent.</p>
                  </details>
                </div>
              </div>
            </div>

            <div class="col-lg-7">
              <div class="card card-dark">
                <div class="card-header">
                  <h3 class="card-title">Outputs</h3>
                </div>
                <div class="card-body">
                  <div class="d-flex align-items-end gap-2 mb-2">
                    <div class="text-muted small">Implied perpetual growth</div>
                    <div class="display-5 fw-bold" id="gOut">—</div>
                    <div id="badge" class="calc-badge">—</div>
                  </div>

                  <div class="row g-2 mb-3">
                    <div class="col-md-4">
                      <div class="info-box p-3">
                        <div class="text-muted small">Enterprise value (EV)</div>
                        <div class="fs-5 fw-bold" id="evOut">—</div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="info-box p-3">
                        <div class="text-muted small">Reinvestment of NOPAT</div>
                        <div class="fs-5 fw-bold" id="reinvestOut">—</div>
                      </div>
                    </div>
                    <div class="col-md-4">
                      <div class="info-box p-3">
                        <div class="text-muted small">Payout of NOPAT</div>
                        <div class="fs-5 fw-bold" id="payoutOut">—</div>
                      </div>
                    </div>
                  </div>

                  <h5 class="mb-2">Sensitivity</h5>
                  <div class="chips mb-3" id="chips"></div>

                  <h5 class="mb-2">Try a different g</h5>
                  <div class="d-flex align-items-center gap-2">
                    <input id="gSlider" type="range" min="-5" max="15" step="0.05" value="5" aria-label="Trial g in percent" class="form-range">
                    <div class="small text-muted"><span id="gSliderVal">5.00%</span></div>
                  </div>
                  <div class="mt-2">
                    <div>Implied price for g=<span id="gTrialLabel">5.00%</span>:</div>
                    <div class="fs-5 fw-bold" id="trialPrice">—</div>
                  </div>

                  <div class="mt-2 text-warning-emphasis small" id="note">Fill inputs to see results.</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>

    <footer class="main-footer small text-muted">
      <div class="float-end d-none d-sm-inline">Educational tool. Not investment advice.</div>
      <strong>© <span id="year"></span> Reverse DCF — Implied Growth.</strong>
    </footer>
  </div>

  <script>
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/admin-lte@4.0.0/dist/js/adminlte.min.js"></script>
  <script src="/assets/js/app.js"></script>
</body>
</html>
